#!/usr/bin/env python
# coding: utf-8

# # ğŸ«§ ê¸°ìˆ í†µê³„
# ## - ë°ì´í„° í‘œë³¸ì˜ íŠ¹ì§•ì„ ë‚˜íƒ€ë‚´ëŠ” ìš”ì•½ëœ ì •ë³´.

# ## âœ” describe() : ê¸°ìˆ í†µê³„ ì •ë³´ë¥¼ í•˜ë‚˜ì˜ í…Œì´ë¸”ë¡œ ì œê³µí•˜ëŠ” í•¨ìˆ˜ -> include/exclude í™œìš©
# - ê²°ì¸¡ê°’ì„ ì œì™¸í•œ ë°ì´í„° ë¶„í¬ì˜ ì¤‘ì‹¬ ê²½í–¥, ë¶„ì‚°, ì°¨ì›ì˜ ëª¨ì–‘ì„ ìš”ì•½í•˜ëŠ” í†µê³„ í¬í•¨ë¨
# - ìˆ«ì ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ ë°ì´í„° íƒ€ì…ì¸ ë³€ìˆ˜ì˜ ì§‘í•©ì— ê´€í•´ì„œë„ ë¶„ì„ ê°€ëŠ¥

# In[2]:


import numpy as np
import pandas as pd
import seaborn as sns


# In[3]:


#ì‹œë³¸ì—ì„œ ì œê³µí•˜ëŠ” í­ê·„ ë°ì´í„°ì…‹ ë¡œë“œ
#ìˆ˜ì¹˜í˜• ë³€ìˆ˜ ê´€ë ¨ ì •ë³´ë§Œ ì¶œë ¥

df = sns.load_dataset('penguins') 
df.describe()


# In[4]:


#ìˆ˜ì¹˜í˜• ë³€ìˆ˜ ë¿ë§Œ ì•„ë‹ˆë¼ ëª¨ë“  ë³€ìˆ˜ë¥¼ í¬í•¨í•œ ì •ë³´ ì¶œë ¥

df.describe(include='all')


# In[5]:


#ì˜¤ë¸Œì íŠ¸ íƒ€ì…ë§Œ í™•ì¸ -> í…Œì´ë¸” ì¸ë±ìŠ¤ì— ë°ì´í„° ìˆ˜(count), ê³ ìœ³ê°’ ìˆ˜(unique), ê°€ì¥ ë§ì´ ì¶œì—°í•˜ëŠ” ê°’(top), ë¹ˆë„(freq)

df.describe(include=[object])


# In[6]:


#ìˆ«ì ë°ì´í„° íƒ€ì…ë§Œ ì¶œë ¥

df.describe(include=[np.number])


# In[9]:


#ì¹´í…Œê³ ë¦¬ ë°ì´í„° íƒ€ì… ì œì™¸í•˜ê³  ì¶œë ¥

df.describe(exclude=['category'])


# ## âœ” percentile() : ë„˜íŒŒì´ë¡œ ë°±ë¶„ìœ„ìˆ˜ êµ¬í•˜ëŠ” í•¨ìˆ˜
# 
# - ë°ì´í„°ì— ê²°ì¸¡ê°’ì´ ìˆë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ

# In[10]:


df = df.fillna(0) #ì—ëŸ¬ë°©ì§€ ê²°ì¸¡ê°’ 0ìœ¼ë¡œ
point_5 = np.percentile(df['bill_depth_mm'], q=[0, 25, 50, 75, 100])
point_5


# In[12]:


#ê°œë³„ì ì¸ ì›ì†Œì— ì ‘ê·¼

print(point_5[0])
print(point_5[2])
print(point_5[4])


# ## âœ” quantile() : íŒë‹¤ìŠ¤ë¡œ ë°±ë¶„ìœ„ìˆ˜ êµ¬í•˜ëŠ” í•¨ìˆ˜
# 
# - í•¨ìˆ˜ì˜ ()ì— ë¦¬ìŠ¤íŠ¸ë¡œ ì›í•˜ëŠ” ë°±ë¶„ìœ„ìˆ˜ë¥¼ ì†Œìˆ˜ì ìœ¼ë¡œ ì…ë ¥í•˜ë©´ í•´ë‹¹ ê°’ ì¶œë ¥
# - í•˜ë‚˜ì˜ ë°±ë¶„ìœ„ìˆ˜ë„ ì…ë ¥ ê°€ëŠ¥

# In[13]:


df.quantile([0, .25, .5, .75, 1.0])


# In[14]:


df.quantile(0.25)


# In[15]:


df['bill_length_mm'].quantile(.25)


# ## count() : ë°ì´í„° ìˆ˜ íŒŒì•…í•˜ê¸°
# - ì»¬ëŸ¼ì´ë‚˜ ë¡œìš°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²°ì¸¡ê°’ì´ ì•„ë‹Œ ëª¨ë“  ë°ì´í„°ì˜ ì…€ ìˆ˜ë¥¼ ê³„ì‚°.
# - None, NaN, NaT, numpy.inf ê°’ ë“±ì´ ê²°ì¸¡ê°’ìœ¼ë¡œ ì¸ì§€ë¨

# In[16]:


df.count() #ê²°ì¸¡ê°’ì„ 0ìœ¼ë¡œ ë°”ê¿”ì„œ ëª¨ë“  ë°ì´í„° 344ê°œë¡œ ë‚˜ì˜´


# In[17]:


df = sns.load_dataset('penguins') 
df.count()


# In[18]:


df['bill_depth_mm'].count()


# In[19]:


df.count(axis='columns') #ê°œë³„ í–‰ì— í¬í•¨ëœ ì»¬ëŸ¼ ìˆ˜


# ## max() : ìµœëŒ“ê°’ ì°¾ê¸°
# - í•´ë‹¹ ë°ì´í„°ì˜ ê¸°ì¤€ ì¶•ì—ì„œ ê°€ì¥ í° ê°’ ì¶œë ¥

# In[20]:


df.max()


# In[21]:


df['bill_length_mm'].max()


# ## min() : ìµœì†Ÿê°’ ì°¾ê¸°
# - í•´ë‹¹ ë°ì´í„°ì˜ ê¸°ì¤€ ì¶•ì—ì„œ ê°€ì¥ ì‘ì€ ê°’ ì¶œë ¥
# - ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì˜ ê²½ìš° ë¹ˆë„ê°€ ê°€ì¥ ë‚®ì€ ê°’ ì¶œë ¥

# In[22]:


df.min()


# In[24]:


df['bill_depth_mm'].idxmin() #ìµœì†Ÿê°’ì´ ìˆëŠ” ì¸ë±ìŠ¤ ì°¾ê¸°


# ## mean() : í‰ê· ê°’ ì°¾ê¸°
# - ìˆ«ì íƒ€ì… ì»¬ëŸ¼ì˜ í‰ê· ê°’ë§Œ ê³„ì‚°

# In[25]:


df.mean()


# ## std() : í‘œì¤€í¸ì°¨ ì°¾ê¸°
# - ê¸°ë³¸ì ìœ¼ë¡œ N-1ë¡œ ì •ê·œí™”

# In[26]:


df.std()


# ## sum() : ë°ì´í„° í•©ê³„ êµ¬í•˜ê¸°
# - ë¬¸ì£ê°’ì˜ ê²½ìš° ë¬¸ìê°€ í•©ì³ì ¸ì„œ ì¶œë ¥

# In[27]:


df.sum()


# ## ê¸°ìˆ í†µê³„ ì‹œê°í™” - ë§‰ëŒ€ê·¸ë˜í”„, íˆìŠ¤í† ê·¸ë¨, ë°•ìŠ¤í”Œë¡¯

# ## ë§‰ëŒ€ê·¸ë˜í”„

# ### catplot() : ì‹œë³¸ì—ì„œ í•©ê³„ë¥¼ í‘œí˜„í•˜ëŠ” ë§‰ëŒ€ê·¸ë˜í”„

# In[38]:


#ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì´ species / island 2ê°œ

sns.catplot(data=df, x="species", kind="count")


# In[39]:


sns.catplot(data=df, x="island", kind="count")


# ### barplot() : ì‹œë³¸ì—ì„œ í‰ê· ì´ë‚˜ ê³„ì‚°í•œ ê²°ê³¼ë¥¼ í‘œí˜„í•˜ëŠ” ë§‰ëŒ€ê·¸ë˜í”„
# - yì¶•ì— ìˆ«ì íƒ€ì… ë³€ìˆ˜ ì§€ì •

# In[36]:


sns.barplot(data=df, x="species", y="bill_length_mm")


# In[37]:


sns.barplot(data=df, x="island", y="bill_length_mm")


# ## íˆìŠ¤í† ê·¸ë¨

# In[42]:


sns.histplot(data=df, x="flipper_length_mm")


# In[43]:


sns.histplot(data=df, x="body_mass_g")


# ## ë°•ìŠ¤í”Œë¡¯
# - ë³€ìˆ˜ì˜ ë¶„í¬ë¥¼ í‘œì‹œ
# - ìˆ«ìì™€ ì˜¤ë¸Œì íŠ¸ íƒ€ì… ëª¨ë‘ ê°€ëŠ¥
# - ë³€ìˆ˜ ê°„ ìˆ˜ì¤€ ì‰½ê²Œ ë¹„êµ ê°€ëŠ¥

# In[44]:


sns.boxplot(data=df)


# In[46]:


sns.boxplot(data=df, x = "species", y="body_mass_g")


# # ---------------------------------------------------------------------------------------------------------------
# # ğŸ«§ ê³ ìœ³ê°’ í™•ì¸ : unique()
# - ë„˜íŒŒì´ ë°°ì—´ í˜•ì‹ìœ¼ë¡œ ë°˜í™˜.
# - ìˆ«ì íƒ€ì…ê³¼ ì˜¤ë¸Œì íŠ¸ íƒ€ì… ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥. ì£¼ë¡œ ì˜¤ë¸Œì íŠ¸ì—ì„œ ì‚¬ìš©

# In[49]:


df['species'].unique() #species ì»¬ëŸ¼ì˜ ê³ ìœ³ê°’ í™•ì¸


# In[50]:


df['bill_depth_mm'].unique() #ìˆ«ì íƒ€ì… ì»¬ëŸ¼ì˜ ê³ ìœ³ê°’ í™•ì¸ -> í° ì˜ë¯¸ê°€ ì—†ì–´ì„œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ


# ## value_counts() : ê³ ìœ³ê°’ê³¼ í•´ë‹¹ ê°œìˆ˜ ë™ì‹œ í™•ì¸
# - ì‹œë¦¬ì¦ˆì™€ ë°ì´í„°í”„ë ˆì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

# In[54]:


df['species'].value_counts() #ì‹œë¦¬ì¦ˆì— ì ìš©


# In[55]:


df['species'].value_counts(normalize=True) #ë¹„ì¤‘ìœ¼ë¡œ í™•ì¸


# ### bins : ê³ ìœ³ê°’ ì„¸ëŠ” ëŒ€ì‹  ì „ì²´ ë°ì´í„°ë¥¼ ì§€ì •í•œ ìˆ˜ ê¸°ì¤€ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ë‚˜ëˆ„ì–´ ê³„ì‚°
# #### binsë¥¼ 3ê°œì™€ 5ê°œë¡œ ë‚˜ëˆ„ì–´ ì–´ëŠ êµ¬ê°„ì— ë°ì´í„°ê°€ ë°€ì§‘í•´ ìˆëŠ”ì§€ ì–´ëŠ êµ¬ê°„ì— ì–´ëŠ ì •ë„ì˜ ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì •í™•í•˜ê²Œ ìˆ˜ì¹˜ë¡œ êµ¬í•  ìˆ˜ ìˆìŒ

# In[57]:


df['bill_depth_mm'].value_counts(bins=5)


# In[58]:


df['bill_depth_mm'].value_counts(bins=3)


# In[60]:


df.value_counts(dropna=False) #ê²°ì¸¡ê°’ë„ í¬í•¨í•´ì„œ ê³ ìœ³ê°’ í™•ì¸ 


# In[56]:


df.value_counts() #ë°ì´í„° í”„ë ˆì„ì— ì ìš©


# # ---------------------------------------------------------------------------------------------------------------
# # ğŸ«§ í˜„ì¬ ì»¬ëŸ¼ ëª©ë¡ í™•ì¸

# ## columns : ë°ì´í„°ì…‹ì˜ ì „ì²´ ì»¬ëŸ¼ëª… í™•ì¸ 

# In[61]:


df.columns


# ## ì»¬ëŸ¼ í˜¸ì¶œ / 2ê°œ ì´ìƒì˜ ì»¬ëŸ¼ ì¡°í•©í•´ì„œ ë°ì´í„°í”„ë ˆì„ ìƒì„±

# In[62]:


df['species']


# In[65]:


df.species


# In[64]:


df[['species', 'bill_depth_mm']]


# In[66]:


cols=['species', 'bill_depth_mm']
df[cols]


# In[67]:


new_df = df[cols]
new_df


# ## ìƒˆë¡œìš´ ì»¬ëŸ¼ ìƒì„±

# ### ë‹¨ì¼ ì»¬ëŸ¼ ìƒì„±í•˜ê¸° : df['ìƒì„±í•  ì»¬ëŸ¼ëª…']

# In[68]:


df['bill_depth_cm'] = df['bill_depth_mm'] / 10
df.head()


# ### ë‹¤ì¤‘ ì»¬ëŸ¼ ë™ì‹œì— ìƒì„±í•˜ê¸° : assign()

# In[69]:


df.assign(
    bill_length_cm = df['bill_length_mm'] / 10
    ,bill_depth_cm = df['bill_depth_mm'] / 10
)


# ## ë™ì¼í•œ ë°ì´í„° íƒ€ì…ì˜ ì»¬ëŸ¼ë§Œ ì„ íƒí•˜ê¸° : select_dtypes()

# In[71]:


df.select_dtypes(include=['float64']).columns


# In[72]:


df.select_dtypes(include=['object']).columns #string ì†ì„±ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ objectë¡œ ì…ë ¥


# In[74]:


df.select_dtypes(exclude=['object']).columns #íŠ¹ì • dtypeë§Œ ì œì™¸


# ## ì»¬ëŸ¼ê³¼ ë¡œìš° ì‚­ì œí•˜ê¸° : drop()
# - ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ì´ë‚˜ ë¡œìš° ì‚­ì œ
# - axis : ì„¸ë¡œ 1

# In[75]:


df.drop('species', axis=1).head()


# In[76]:


df.drop(['species', 'flipper_length_mm'], axis=1).head()


# In[77]:


df.drop([0, 3, 5], axis=0).head() #íŠ¹ì • ì¸ë±ìŠ¤ì˜ ë¡œìš° ì‚­ì œ


# In[81]:


df.drop([2]).head() #axis ìƒëµ ê°€ëŠ¥


# ## ì»¬ëŸ¼ ì´ë¦„ ë³€ê²½í•˜ê¸°

# In[82]:


df.rename(columns={'species':'í­ê·„ì¢…ë¥˜', 'island':'ì„œì‹í•˜ëŠ” ì„¬', 'bill_length_mm':'ë¶€ë¦¬ ê¸¸ì´'}).head()


# In[84]:


df.columns = ['í­ê·„ ì¢…ë¥˜', 'ì„œì‹í•˜ëŠ” ì„¬', 'ë¶€ë¦¬ ê¸¸ì´', 'ë¶€ë¦¬ ê¹Šì´', 'ì§€ëŠëŸ¬ë¯¸ ê¸¸ì´', 'ëª¸ë¬´ê²Œ', 'ì„±ë³„', 'ë¶€ë¦¬ ê¹Šì´(cm)']
df.head()


# ## ì»¬ëŸ¼ ìˆœì„œ/ìœ„ì¹˜ ë³€ê²½í•˜ê¸°

# In[88]:


#ì»¬ëŸ¼ëª…ì„ ì›í•˜ëŠ” ìˆœì„œëŒ€ë¡œ ì¬ì…ë ¥í•˜ë©´ ì»¬ëŸ¼ ìˆœì„œ ë³€ê²½ ê°€ëŠ¥

df = sns.load_dataset('penguins')
df = df[['species', 'island', 'sex', 'bill_length_mm', 'bill_depth_mm', 'flipper_length_mm', 'body_mass_g']]
df.head()


# In[89]:


#columns í•¨ìˆ˜ ì‚¬ìš©í•˜ì—¬ ìˆœì„œ ì§€ì •
#ì²«ë²ˆì§¸ ì»¬ëŸ¼ ê¸°ì¤€ 0

df.columns = df.columns[[0, 1, 6, 2, 3, 4, 5]]
df.head()


# In[90]:


#forë¬¸ê³¼ ifë¬¸ì„ ì‚¬ìš©í•´ì„œ ì¼ë¶€ ì»¬ëŸ¼ ì´ë™í•˜ê¸°

colsToStay = ['bill_length_mm', 'bill_depth_mm', 'flipper_length_mm']
cols = colsToStay + [col for col in df if col not in colsToStay]
df = df[cols]
df.head()


# ## ì»¬ëŸ¼ê³¼ ì¸ë±ìŠ¤ êµí™˜ : transpose()

# In[94]:


df[:11].transpose()


# In[93]:


df[:11].T


# # ---------------------------------------------------------------------------------------------------------------
# # ğŸ«§ ë°ì´í„° ì¸ë±ì‹± 

# ## ë¬¸ìí˜• ì¸ë±ìŠ¤ ì¸ë±ì‹±í•˜ê¸°

# In[95]:


df = sns.load_dataset('penguins')
df = df[:11].transpose()
df


# In[96]:


#í•˜ë‚˜ì˜ ë¬¸ìí˜• ì¸ë±ìŠ¤ì— ì ‘ê·¼í•˜ê¸° 
#loc['ì¸ë±ìŠ¤ëª…']

df.loc['bill_length_mm']


# In[97]:


#2ê°œ ì´ìƒì˜ ë¬¸ìí˜• ì¸ë±ìŠ¤ ì ‘ê·¼í•˜ê¸°
#loc[['ì¸ë±ìŠ¤ëª…', 'ì¸ë±ìŠ¤ëª…'...]]

df.loc[['bill_length_mm', 'sex']]


# In[98]:


#ì¸ë±ìŠ¤ì™€ ì»¬ëŸ¼ì˜ ìœ„ì¹˜ ì§€ì •í•˜ì—¬ ë°ì´í„° ì°¾ê¸°

df.loc['bill_length_mm', 5]


# In[99]:


#ë¼ë²¨ ì¸ë±ìŠ¤ì˜ ì—°ì†ëœ êµ¬ê°„ì— í•´ë‹¹í•˜ëŠ” ë³µìˆ˜ì˜ ì¸ë±ìŠ¤ ì„ íƒ

df.loc['island':'bill_depth_mm', 7]


# In[100]:


#ì—°ì†ë˜ì§€ ì•Šê³  ê°œë³„ ë¼ë²¨ ì¸ë±ìŠ¤ í˜¸ì¶œ

df.loc[['island', 'bill_depth_mm', 'sex'], 7]


# ### ì»¬ëŸ¼ ê¸°ì¤€ìœ¼ë¡œ ì¸ë±ì‹±

# In[101]:


df = df.T


# In[102]:


#íŠ¹ì • ìˆ˜ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¸ë±ì‹±

df.loc[df['bill_length_mm'] > 40]


# In[103]:


df.loc[df['bill_length_mm'] > 40, ['sex']] #íŠ¹ì • ì»¬ëŸ¼ì— í•´ë‹¹í•˜ëŠ” ê°’ë§Œ í™•ì¸


# In[104]:


df.loc[df['flipper_length_mm'] == 181]


# In[105]:


df.loc[df['sex'] == 'Male']


# ### ê°’ ë³€ê²½í•˜ê¸°
# - ê¸°ì¡´ ê°’ì´ ì¡´ì¬í•˜ë©´ ë³€ê²½ë˜ê³ , ê¸°ì¡´ ê°’ì´ ì—†ìœ¼ë©´ ìƒˆë¡œìš´ ê°’ ì €ì¥ë¨

# In[106]:


df.loc[[1, 3], ['bill_length_mm']] = 50
df.head()


# In[107]:


#ì¸ë±ìŠ¤ ì „ì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ íŠ¹ì • ì»¬ëŸ¼ì— í•´ë‹¹í•˜ëŠ” ê°’ë§Œ ìƒˆë¡­ê²Œ ì €ì¥í•˜ê¸°

df.loc[:, 'bill_length_mm'] = 10
df.head()


# In[108]:


#190ì„ ì´ˆê³¼í•˜ëŠ” ê°’ì„ 0ìœ¼ë¡œ ë³€ê²½í•˜ê¸°

df.loc[df['flipper_length_mm'] > 190] = 0
df.head()


# ## ìœ„ì¹˜ ê¸°ë°˜ ì¸ë±ì‹±í•˜ê¸°

# In[109]:


df = sns.load_dataset('penguins')


# In[111]:


df.loc[[0]]


# In[110]:


df.iloc[[0, 2]]


# In[112]:


df.loc[:3]


# In[113]:


df.iloc[0, 1] #x:0, y:1 ìœ„ì¹˜ì˜ ë°ì´í„°


# In[114]:


df.iloc[[1, 2], [2, 3]] #x:1~2, y:2~3 ìœ„ì¹˜ì˜ ë°ì´í„°


# In[115]:


df.iloc[1:3, 0:3]


# # ì»¬ëŸ¼ì„ ì¸ë±ìŠ¤ë¡œ ë§Œë“¤ê¸°, ì¬ì •ì˜ í•˜ê¸°

# ### íŠ¹ì • ì»¬ëŸ¼ ê°’ìœ¼ë¡œ ì¸ë±ìŠ¤ ë§Œë“¤ê¸° : set_index()

# In[116]:


df.set_index('species', inplace=True)
df


# ### ì»¬ëŸ¼ì„ ì˜ëª» ì§€ì •í•˜ì—¬ ë˜ëŒë ¤ì•¼ í•˜ëŠ” ê²½ìš° : reset_index()

# In[117]:


df.reset_index()


# In[ ]:





# In[ ]:





# In[ ]:





# In[ ]:




